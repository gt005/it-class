{% extends 'tacks_education_system/tacks_education_system_base_template.html' %}
{% load static %}

{% block head_links %}
    <link rel="stylesheet"
          href="{% static 'css/tacks_education_system/codemirror-5.58.1/lib/codemirror.min.css' %}">
    <link rel="stylesheet"
          href="{% static 'css/tacks_education_system/codemirror-5.58.1/theme/neat.min.css' %}">
    <link rel="stylesheet"
          href="{% static 'css/tacks_education_system/codemirror-5.58.1/theme/dracula.min.css' %}">
    <script src="{% static 'css/tacks_education_system/codemirror-5.58.1/lib/codemirror.js' %}"></script>
    <script src="{% static 'css/tacks_education_system/codemirror-5.58.1/mode/clike/clike.js' %}"></script>
    <script src="{% static 'css/tacks_education_system/codemirror-5.58.1/mode/python/python.js' %}"></script>
    <script src="{% static 'css/tacks_education_system/codemirror-5.58.1/addon/edit/matchbrackets.js' %}"></script>
{% endblock %}

{% block main %}
    <section class="task-page__past-header">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h2 class="task-page__task-level-label">
                        Уровень 2
                    </h2>
                </div>
            </div>
            <div class="row task-page__back-button-row">
                <div class="col-6 col-lg-3">
                    <a class="task-page__main-back-buttons pr-lg-3"
                       href="/tasks/active_task">
                        <span class="task-page__main-back-buttons__back-buttons">
                            <img src="{% static 'images/back_button.svg' %}"
                                 alt="<">
                            <img src="{% static 'images/back_button_hover.svg' %}"
                                 alt="<">
                        </span>
                        Все задачи
                    </a>
                </div>
                <div class="col-6 col-lg-4 ml-auto task-page__time-remainder">
                    Осталось времени: <span
                        id="task-page__time-remainder__time">2342</span>
                </div>
            </div>
        </div>
    </section>

    <section class="task-page__task-description">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <!-- Название задачи -->
                    <h1 class="task-page__task-description__task-name">
                        Попытка к бегству
                    </h1>
                    <!-- Описание задачи -->
                    <p class="task-page__task-description__main-description">
                        Узник пытается бежать из замка, который состоит из MN
                        квадратных комнат, расположенных в виде прямоугольника
                        M×N. Между любыми двумя соседними комнатами есть дверь
                        , однако некоторые комнаты закрыты и попасть в них
                        нельзя. В начале узник находится в угловой комнате и
                        для спасения ему надо попасть в противоположную угловую
                        комнату. Времени у него немного, всего он может
                        побывать не более, чем в M+N-1 комнате, включая
                        начальную и конечную комнату на своем пути, то есть с
                        каждым переходом в соседнюю комнату расстояние до
                        выхода из замка должно уменьшаться. От вас требуется
                        найти количество различных маршрутов, ведущих к
                        спасению.
                    </p>
                    <!-- Формат ввода -->
                    <h2 class="task-page__task-description__input-format">
                        Формат ввода
                    </h2>
                    <p>Первая строчка входных данных содержит натуральные числа
                        M и N, не превосходящих 1000. Далее идет план замка в
                        виде M строчек из N символов в каждой. Один символ
                        соответствует одной комнате: если символ равен 1, то в
                        комнату можно попасть, если он равен 0, то комната
                        закрыта. Первоначальное положение узника – левый нижний
                        угол (первый символ последней строки), выход находится
                        в правом верхнем углу (последний символ первой строки,
                        оба этих символа равны 1).
                    </p>
                    <h2 class="task-page__task-description__output-format">
                        Формат вывода
                    </h2>
                    <p>Программа должна напечатать количество маршрутов,
                        ведущих узника к выходу и проходящих через M+N-1
                        комнату, или слово impossible, если таких маршрутов не
                        существует.
                        <br><br>
                        Входные данные подобраны таким образом, что искомое
                        число маршрутов не превосходит 2.000.000.000.
                    </p>
                    <!-- Если есть if not_empty -->
                    <h2 class="task-page__task-description__photos-header">
                        Фото для задачи
                    </h2>
                    <div class="task-page__task-description__photos">
                        <img src="{% static 'images/test_image_to_tasks_1.png' %}"
                             alt="">
                        <img src="{% static 'images/test_image_to_tasks.png' %}"
                             alt="">
                    </div>

                    <div class="task-page__task-example">
                        <h2 class="task-page__task-example__header">
                            Пример 1
                            <!-- с помощью цикла или для конкретной порядковой записи свой блок -->
                        </h2>
                        <h3>
                            Ввод
                        </h3>
                        <pre class="task-page__task-example__data">2 2</pre>
                        <h3>
                            Вывод
                        </h3>
                        <pre class="task-page__task-example__data">YES</pre>
                    </div>

                    <div class="task-page__task-example">
                        <h2 class="task-page__task-example__header">
                            Пример 2
                            <!-- с помощью цикла или для конкретной порядковой записи свой блок -->
                        </h2>
                        <h3>
                            Ввод
                        </h3>
                        <pre class="task-page__task-example__data">2 3 213
123 12 45</pre>
                        <h3>
                            Вывод
                        </h3>
                        <pre class="task-page__task-example__data">NO</pre>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <section class="task-page__insert-code">
        <div class="container">
            <div class="row">
                <div class="task-page__insert-code__loader">
                    <div class="spinner-border text-secondary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    <br>
                    <span class="task-page__insert-code__loader__text">Задача отправляется</span>
                </div>
                <div class="col-12">
                    <ul class="nav nav-tabs" id="task-page__code-tabs"
                        role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active"
                               id="task-page__insert-code__write-code-tab"
                               data-toggle="tab"
                               href="#task-page__insert-code__write-code"
                               role="tab"
                               aria-controls="task-page__insert-code__write-code"
                               aria-selected="true">Набрать здесь</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link"
                               id="task-page__insert-code__insert-file-tab"
                               data-toggle="tab"
                               href="#task-page__insert-code__insert-file"
                               role="tab"
                               aria-controls="task-page__insert-code__insert-file"
                               aria-selected="false">Отправить файлом</a>
                        </li>
                    </ul>

                    <div class="col-lg-4 col-12 pt-4 pb-1 d-flex align-items-center">
                        <label class="my-1 mr-5"
                               for="task-page__lang-choose">Язык</label>
                        <select class="custom-select my-1 mr-sm-2"
                                id="task-page__lang-choose">
                            <option selected="selected" value="Python 3.7.3"
                                    data-lang="python">
                                Python 3.7.3
                            </option>
                            <option value="GNU c++17 7.3"
                                    data-lang="text/x-c++src">
                                GNU c++17 7.3
                            </option>
                            <option value="GNU C11 7.3"
                                    data-lang="text/x-csrc">
                                GNU C11 7.3
                            </option>
                        </select>
                    </div>

                    <div class="tab-content" id="task-page__code-tabs-content">
                        {% csrf_token %}
                        <div class="tab-pane fade show active"
                             id="task-page__insert-code__write-code"
                             role="tabpanel"
                             aria-labelledby="task-page__insert-code__write-code-tab">
                            <div class="col-lg-4 col-12 pb-4 pt-1 d-flex align-items-center task-page__change-code-theme">
                                <label class="my-1 mr-5"
                                       for="task-page__change-code-theme__select">Тема</label>
                                <select class="custom-select my-1 mr-sm-2"
                                        id="task-page__change-code-theme__select">
                                    <option selected="selected" value="default"
                                            data-theme-shade="light">
                                        Светлая
                                    </option>
                                    <option value="neat"
                                            data-theme-shade="light">
                                        Светлая (neat)
                                    </option>
                                    <option value="dracula"
                                            data-theme-shade="dark">
                                        Темная
                                    </option>
                                </select>
                            </div>
                            <div id="task-page__insert-code__write-code-tab__code-editor"></div>
                            <button type="button"
                                    class="btn btn-outline-success task-page__insert-code__write-code-tab__send-button">
                                Отправить
                            </button>
                        </div>
                        <div class="tab-pane fade col-lg-4 col-12"
                             id="task-page__insert-code__insert-file"
                             role="tabpanel"
                             aria-labelledby="task-page__insert-code__insert-file-tab">
                            <div class="custom-file my-3">
                                <input type="file"
                                       class="custom-file-input task__page-load-file-input"
                                       id="validatedCustomFile"
                                       accept=".py,.c,.cpp">
                                <label class="custom-file-label task__page-load-file-input__label"
                                       for="validatedCustomFile">
                                    Выбрать
                                </label>
                            </div>
                            <button type="button"
                                    class="btn btn-outline-success task-page__insert-code__insert-file-tab__send-button">
                                Отправить
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <h3 class='text-center task-page__insert-code__time-end-label'>Время
            вышло, ты не успел решить задачу.</h3>
    </section>

    <section class="task-page__last-solutions">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-12">
                    <h2 class="task-page__last-solutions__header-label">
                        Последняя отправленная:</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <table class="task-page__last-solutions__table p-0">
                        <thead class="text-center">
                        <tr style="box-shadow: 0 0 0 1px rgba(13,35,67,.07),0 5px 15px -4px rgba(13,35,67,.4);">
                            <th scope="col">Время сдачи</th>
                            <th scope="col">Компилятор</th>
                            <th scope="col">Код</th>
                            <!-- Вердикт и договор на встречу будет при разворачивании -->
                        </tr>
                        </thead>
                        <tbody class="task-page__last-solutions__table__body"></tbody>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="task-page__last-solutions__table__body__row__show-code-area">
                        <pre></pre>
                        </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}

{% block detail_active_active_task %}active{% endblock %}
{% block scripts_include %}

{% endblock %}